require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";var XMLHttpRequest=require("xhr2"),authEndpoint="https://databox.me/",signupEndpoint="https://solid.github.io/solid-idps/",listen=function(){var t=new Promise(function(t,e){var n=window.addEventListener?"addEventListener":"attachEvent",i=window[n],s="attachEvent"===n?"onmessage":"message";i(s,function(n){var i=n.data;if("User:"===i.slice(0,5)){var s=i.slice(5,i.length);return s&&s.length>0&&"http"===s.slice(0,4)?t(s):e(s)}},!0)});return t},login=function(t){t=t||window.location.origin+window.location.pathname;var e=new Promise(function(e,n){var i=new XMLHttpRequest;i.open("HEAD",t),i.withCredentials=!0,i.onreadystatechange=function(){if(this.readyState===this.DONE){if(200===this.status){var t=this.getResponseHeader("User");if(t&&t.length>0&&"http"===t.slice(0,4))return e(t)}var i=new XMLHttpRequest;i.open("HEAD",authEndpoint),i.withCredentials=!0,i.onreadystatechange=function(){if(this.readyState===this.DONE){if(200===this.status){var t=this.getResponseHeader("User");if(t&&t.length>0&&"http"===t.slice(0,4))return e(t)}return n({status:this.status,xhr:this})}},i.send()}},i.send()});return e},signup=function(t){t=t||signupEndpoint;var e,n,i=1024,s=600;e=window.screen.width/2-(i/2+10),n=window.screen.height/2-(s/2+50),window.open(t+"?origin="+encodeURIComponent(window.location.origin),"Solid signup","resizable,scrollbars,status,width="+i+",height="+s+",left="+e+",top="+n);var o=new Promise(function(t,e){listen().then(function(e){return t(e)})["catch"](function(t){return e(t)})});return o};module.exports.listen=listen,module.exports.login=login,module.exports.signup=signup;
},{"xhr2":6}],2:[function(require,module,exports){
"use strict";var solidClient=require("./web"),OWL=$rdf.Namespace("http://www.w3.org/2002/07/owl#"),PIM=$rdf.Namespace("http://www.w3.org/ns/pim/space#"),FOAF=$rdf.Namespace("http://xmlns.com/foaf/0.1/"),DCT=$rdf.Namespace("http://purl.org/dc/terms/"),appendGraph=function(t,e,n){var r=n?$rdf.sym(n):void 0;e.statementsMatching(void 0,void 0,void 0,r).forEach(function(e){t.add(e.subject,e.predicate,e.object,e.why)})},getProfile=function(t){var e=new Promise(function(e,n){solidClient.get(t).then(function(n){t=t.indexOf("#")>=0?t.slice(0,t.indexOf("#")):t;var r=n.any($rdf.sym(t),FOAF("primaryTopic")),i=[];i=i.concat(n.statementsMatching(r,OWL("sameAs"),void 0,$rdf.sym(t))),i=i.concat(n.statementsMatching(r,OWL("seeAlso"),void 0,$rdf.sym(t))),i=i.concat(n.statementsMatching(r,PIM("preferencesFile"),void 0,$rdf.sym(t)));var o=i.length,c=function(){return 0===o?e(n):void 0};return 0===o?e(n):void i.forEach(function(t){solidClient.get(t.object.uri).then(function(e){appendGraph(n,e,t.object.uri),o--,c()})["catch"](function(t){if(t)throw t;o--,c()})})})["catch"](function(t){n(t)})});return e},getWorkspaces=function t(e,n){var r=new Promise(function(r,i){if(n){var o=[],c=n.statementsMatching($rdf.sym(e),PIM("workspace"),void 0);return 0===c.length?r(o):(c.forEach(function(t){var e={},r=n.any(t.object,DCT("title"));r&&r.value&&(e.title=r.value),e.url=t.object.uri,e.statements=n.statementsMatching(t.object,void 0,void 0),o.push(e)}),r(o))}getProfile(e).then(function(n){t(e,n).then(function(t){return r(t)})["catch"](function(t){return i(t)})})["catch"](function(t){return i(t)})});return r},getWritableProfiles=function e(t,n){var r=new Promise(function(r,i){if(n){var o=[];t=t.indexOf("#")>=0?t.slice(0,t.indexOf("#")):t;var c=n.any($rdf.sym(t),FOAF("primaryTopic")),a=[];a=a.concat(n.statementsMatching(c,OWL("sameAs"),void 0,$rdf.sym(t))),a=a.concat(n.statementsMatching(c,OWL("seeAlso"),void 0,$rdf.sym(t))),a=a.concat(n.statementsMatching(c,PIM("preferencesFile"),void 0,$rdf.sym(t))),a=a.concat({object:{uri:t}});var s=a.length,f=function(){return 0===s?r(o):void 0};if(0===s)return r(o);a.forEach(function(t){var e=t.object.uri;solidClient.head(e).then(function(t){t.editable.length>0&&o.indexOf(e)<0&&o.push({url:e,editable:t.editable}),s--,f()})["catch"](function(t){if(t)throw t;s--,f()})})}else getProfile(t).then(function(n){e(t,n).then(function(t){return r(t)})["catch"](function(t){return i(t)})})["catch"](function(t){return i(t)})});return r};module.exports.getProfile=getProfile,module.exports.getWorkspaces=getWorkspaces,module.exports.getWritableProfiles=getWritableProfiles;
},{"./web":5}],3:[function(require,module,exports){
"use strict";var lib=require("../package");module.exports.version=function(){return lib.version};
},{"../package":7}],4:[function(require,module,exports){
"use strict";var isOnline=function(){return window.navigator.onLine},onOffline=function(n){window.addEventListener("offline",n,!1)},onOnline=function(n){window.addEventListener("online",n,!1)};module.exports.isOnline=isOnline,module.exports.onOffline=onOffline,module.exports.onOnline=onOnline;
},{}],5:[function(require,module,exports){
"use strict";function parseResponseMeta(e){var t=parseLinkHeader(e.getResponseHeader("Link")),s={};s.url=e.getResponseHeader("Location")?e.getResponseHeader("Location"):e.responseURL,s.acl=t.acl,s.meta=t.meta?t.meta:t.describedBy,s.user=e.getResponseHeader("User")?e.getResponseHeader("User"):"",s.websocket=e.getResponseHeader("Updates-Via")?e.getResponseHeader("Updates-Via"):"",s.editable=[];var n=e.getResponseHeader("Accept-Patch");n&&n.indexOf("application/sparql-update")>=0&&s.editable.push("patch");var r=e.getResponseHeader("Allow");return r&&(r.indexOf("PUT")>=0&&s.editable.push("put"),r.indexOf("POST")>=0&&s.editable.push("post"),r.indexOf("DELETE")>=0&&s.editable.push("delete")),s.exists=200===e.status,s.xhr=e,s}var XMLHttpRequest=require("xhr2"),PROXY="https://databox.me/,proxy?uri={uri}",TIMEOUT=5e3;$rdf.Fetcher.crossSiteProxyTemplate=PROXY;var LDP=$rdf.Namespace("http://www.w3.org/ns/ldp#"),parseLinkHeader=function(e){for(var t=/<[^>]*>\s*(\s*;\s*[^\(\)<>@,;:"\/\[\]\?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*")))*(,|$)/g,s=/[^\(\)<>@,;:"\/\[\]\?={} \t]+=(([^\(\)<>@,;:"\/\[\]\?={} \t]+)|("[^"]*"))/g,n=e.match(t),r={},a=0;a<n.length;a++)for(var i=n[a].split(">"),o=i[0].substring(1),u=i[1],d=u.match(s),h=0;h<d.length;h++){var p=d[h],l=p.split("="),c=l[1].replace(/["']/g,"");r[c]=o}return r},SolidWebClient={head:function(e){var t=new Promise(function(t){var s=new XMLHttpRequest;s.open("HEAD",e),s.withCredentials=!0,s.onreadystatechange=function(){this.readyState===this.DONE&&t(parseResponseMeta(this))},s.send()});return t},get:function(e){var t=new Promise(function(t,s){var n=$rdf.graph(),r=new $rdf.Fetcher(n,TIMEOUT),a=e.indexOf("#")>=0?e.slice(0,e.indexOf("#")):e;r.nowOrWhenFetched(a,void 0,function(e,r,a){e?t(n):s({status:a.status,xhr:a})})});return t},post:function(e,t,s,n,r){var a=LDP("Resource").uri;n&&(a=LDP("BasicContainer").uri,r="text/turtle"),r=r||"text/turtle";var i=new Promise(function(n,i){var o=new XMLHttpRequest;o.open("POST",e),o.setRequestHeader("Content-Type",r),o.setRequestHeader("Link","<"+a+'>; rel="type"'),s&&s.length>0&&o.setRequestHeader("Slug",s),o.withCredentials=!0,o.onreadystatechange=function(){if(this.readyState===this.DONE){if(200===this.status||201===this.status)return n(parseResponseMeta(this));i({status:this.status,xhr:this})}},t&&t.length>0?o.send(t):o.send()});return i},put:function(e,t,s){var n=new Promise(function(n,r){s=s||"text/turtle";var a=new XMLHttpRequest;a.open("PUT",e),a.setRequestHeader("Content-Type",s),a.withCredentials=!0,a.onreadystatechange=function(){if(this.readyState===this.DONE){if(200===this.status||201===this.status)return n(parseResponseMeta(this));r({status:this.status,xhr:this})}},a.onerror=function(){r(Error("Network Error"))},t?a.send(t):a.send()});return n},patch:function(e,t,s){var n=new Promise(function(n,r){var a,i="";if(t&&t.length>0)for(a=0;a<t.length;a++)a>0&&(i+=" ;\n"),i+="DELETE DATA { "+t[a]+" }";if(s&&s.length>0)for(a=0;a<s.length;a++)(a>0||t&&t.length>0)&&(i+=" ;\n"),i+="INSERT DATA { "+s[a]+" }";var o=new XMLHttpRequest;o.open("PATCH",e),o.setRequestHeader("Content-Type","application/sparql-update"),o.withCredentials=!0,o.onreadystatechange=function(){if(this.readyState===this.DONE){if(200===this.status||201===this.status)return n(parseResponseMeta(this));r({status:this.status,xhr:this})}},i&&i.length>0?o.send(i):o.send()});return n},del:function(e){var t=new Promise(function(t,s){var n=new XMLHttpRequest;n.open("DELETE",e),n.withCredentials=!0,n.onreadystatechange=function(){if(this.readyState===this.DONE){if(200===this.status||201===this.status)return t(!0);s({status:this.status,xhr:this})}},n.send()});return t}};SolidWebClient.create=SolidWebClient.post,SolidWebClient.replace=SolidWebClient.put,SolidWebClient.update=SolidWebClient.patch,module.exports=SolidWebClient;
},{"xhr2":6}],6:[function(require,module,exports){
module.exports=XMLHttpRequest;
},{}],7:[function(require,module,exports){
module.exports={"name":"solid.js","version":"0.5.1","description":"Common library for writing Solid applications","main":"dist/solid.js","scripts":{"test":"echo \"Error: no test specified\" && exit 1","build-browserified":"browserify -r ./index.js:solid.js > dist/solid.js","build-minified":"browserify -r ./index.js:solid.js -d -p [minifyify --map dist/solid.js.map.json --output dist/solid.js.map.json] > dist/solid.min.js","build":"npm run build-browserified && npm run build-minified"},"repository":{"type":"git","url":"https://github.com/solid/solid.js"},"keywords":["solid","decentralized","web","rdf","ldp","linked","data"],"author":"Andrei Sambra <andrei@fcns.eu>","license":"MIT","bugs":{"url":"https://github.com/solid/solid.js/issues"},"homepage":"https://github.com/solid/solid.js","dependencies":{"rdflib":"^0.2.10","xhr2":"*"},"devDependencies":{"browserify":"*","minifyify":"*","standard":"^5.4.1"},"standard":{"globals":["$rdf","tabulator"]}}
},{}],"solid.js":[function(require,module,exports){
"use strict";var Solid={auth:require("./lib/auth"),identity:require("./lib/identity"),meta:require("./lib/meta"),status:require("./lib/status"),web:require("./lib/web")};"undefined"!=typeof tabulator&&(tabulator.solid=Solid),module.exports=Solid;
},{"./lib/auth":1,"./lib/identity":2,"./lib/meta":3,"./lib/status":4,"./lib/web":5}]},{},[])


//# sourceMappingURL=dist/solid.js.map.json